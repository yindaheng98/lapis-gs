{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "train full pipeline",
            "type": "debugpy",
            "request": "launch",
            "module": "lapisgs.train_full_pipeline_reduced",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-s",
                "data/truck",
                "-d",
                "output/truck",
                "-i",
                "30000",
                "--mode",
                "base",
                "-olambda_dssim=0.8",
            ]
        },
        {
            "name": "train 8x",
            "type": "debugpy",
            "request": "launch",
            "module": "lapisgs.train_reduced",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-s",
                "data/truck",
                "-d",
                "output/truck/8x",
                "--rescale_factor",
                "0.125",
                "-i",
                "10000",
                "--mode",
                "shculling",
                // "camera-shculling",
                "--with_scale_reg",
                // hyperparams
                "-olambda_dssim=0.8",
                "-oscale_reg_thr_scale=0.2",
                "-odensify_percent_too_big=0.15",
                "-odepth_l1_weight_init=1.0",
                "-odepth_l1_weight_final=1.0",
                "-odepth_from_iter=4000",
                "-odepth_local_relative_kernel_radius=32",
                "-odepth_local_relative_stride=16",
                "-odepth_resize=577",
                "-omercy_type='redundancy_opacity_opacity'",
                // steps
                "-oposition_lr_max_steps=10000",
                "-ocull_at_steps=[9000]",
                "-oscale_reg_from_iter=500",
                "-odepth_l1_weight_max_steps=10000",
                // steps for densify
                // tips: depth will make the training unstable, and the pruning strategy may prune too many points
                // densification of points would slower than pruning, so more densify and less pruning
                "-odensify_from_iter=1000",
                "-odensify_until_iter=7800",
                "-odensify_interval=100",
                "-oprune_from_iter=2000",
                "-oprune_until_iter=7500",
                "-oprune_interval=500",
                "-oopacity_reset_from_iter=3000",
                "-oopacity_reset_until_iter=7000",
                "-oopacity_reset_interval=500",
                "-oimportance_prune_from_iter=2000",
                "-oimportance_prune_until_iter=8500",
                "-oimportance_prune_interval=100",
                // steps for camera
                // "-ocamera_position_lr_max_steps=10000",
                // "-ocamera_rotation_lr_max_steps=10000",
                // "-ocamera_exposure_lr_max_steps=10000",
            ]
        },
        {
            "name": "render 8x",
            "type": "debugpy",
            "request": "launch",
            "module": "lapisgs.render",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-s",
                "data/truck",
                "-d",
                "output/truck/8x",
                "-i",
                "10000",
                "--mode",
                "base",
                "--load_camera",
                "output/truck/8x/cameras.json",
                "--rescale_factor",
                "0.125",
            ]
        },
        {
            "name": "train 4x",
            "type": "debugpy",
            "request": "launch",
            "module": "lapisgs.train_reduced",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-s",
                "data/truck",
                "-d",
                "output/truck/4x",
                "--rescale_factor",
                "0.25",
                "-l",
                "output/truck/8x/point_cloud/iteration_10000/point_cloud.ply",
                "--load_camera",
                "output/truck/8x/cameras.json",
                "-i",
                "10000",
                "--mode",
                "camera-shculling",
                // "camera-prune-shculling",
                "--with_scale_reg",
                // hyperparams
                "-olambda_dssim=0.8",
                "-oscale_reg_thr_scale=0.2",
                "-odensify_percent_too_big=0.15",
                "-odepth_l1_weight_init=1.0",
                "-odepth_l1_weight_final=1.0",
                "-odepth_from_iter=4000",
                "-odepth_local_relative_kernel_radius=32",
                "-odepth_local_relative_stride=16",
                "-odepth_resize=577",
                "-omercy_type='redundancy_opacity_opacity'",
                // steps
                "-oposition_lr_max_steps=10000",
                "-ocull_at_steps=[9000]",
                "-oscale_reg_from_iter=500",
                "-odepth_l1_weight_max_steps=10000",
                // steps for densify
                // tips: depth will make the training unstable, and the pruning strategy may prune too many points
                // densification of points would slower than pruning, so more densify and less pruning
                "-odensify_from_iter=1000",
                "-odensify_until_iter=7800",
                "-odensify_interval=500",
                "-oprune_from_iter=2000",
                "-oprune_until_iter=7500",
                "-oprune_interval=100",
                "-oopacity_reset_from_iter=3000",
                "-oopacity_reset_until_iter=7000",
                "-oopacity_reset_interval=500",
                "-oimportance_prune_from_iter=2000",
                "-oimportance_prune_until_iter=8500",
                "-oimportance_prune_interval=100",
                // steps for camera
                "-ocamera_position_lr_max_steps=10000",
                "-ocamera_rotation_lr_max_steps=10000",
                "-ocamera_exposure_lr_max_steps=10000",
            ]
        },
        {
            "name": "render 4x",
            "type": "debugpy",
            "request": "launch",
            "module": "lapisgs.render",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-s",
                "data/truck",
                "-d",
                "output/truck/4x",
                "-i",
                "10000",
                "--mode",
                "camera",
                "--load_camera",
                "output/truck/4x/cameras.json",
                "--rescale_factor",
                "0.25",
            ]
        },
        {
            "name": "train 2x",
            "type": "debugpy",
            "request": "launch",
            "module": "lapisgs.train_reduced",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-s",
                "data/truck",
                "-d",
                "output/truck/2x",
                "--rescale_factor",
                "0.5",
                "-l",
                "output/truck/4x/point_cloud/iteration_10000/point_cloud.ply",
                "--load_camera",
                "output/truck/4x/cameras.json",
                "-i",
                "10000",
                "--mode",
                "camera-shculling",
                // "camera-prune-shculling",
                "--with_scale_reg",
                // hyperparams
                "-olambda_dssim=0.8",
                "-oscale_reg_thr_scale=0.2",
                "-odensify_percent_too_big=0.15",
                "-odepth_l1_weight_init=1.0",
                "-odepth_l1_weight_final=1.0",
                "-odepth_from_iter=4000",
                "-odepth_local_relative_kernel_radius=32",
                "-odepth_local_relative_stride=16",
                "-odepth_resize=577",
                "-omercy_type='redundancy_opacity_opacity'",
                // steps
                "-oposition_lr_max_steps=10000",
                "-ocull_at_steps=[9000]",
                "-oscale_reg_from_iter=500",
                "-odepth_l1_weight_max_steps=10000",
                // steps for densify
                // tips: depth will make the training unstable, and the pruning strategy may prune too many points
                // densification of points would slower than pruning, so more densify and less pruning
                "-odensify_from_iter=1000",
                "-odensify_until_iter=7800",
                "-odensify_interval=500",
                "-oprune_from_iter=2000",
                "-oprune_until_iter=7500",
                "-oprune_interval=100",
                "-oopacity_reset_from_iter=3000",
                "-oopacity_reset_until_iter=7000",
                "-oopacity_reset_interval=500",
                "-oimportance_prune_from_iter=2000",
                "-oimportance_prune_until_iter=8500",
                "-oimportance_prune_interval=100",
                // steps for camera
                "-ocamera_position_lr_max_steps=10000",
                "-ocamera_rotation_lr_max_steps=10000",
                "-ocamera_exposure_lr_max_steps=10000",
            ]
        },
        {
            "name": "render 2x",
            "type": "debugpy",
            "request": "launch",
            "module": "lapisgs.render",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-s",
                "data/truck",
                "-d",
                "output/truck/2x",
                "-i",
                "10000",
                "--mode",
                "camera",
                "--load_camera",
                "output/truck/2x/cameras.json",
                "--rescale_factor",
                "0.5",
            ]
        },
        {
            "name": "train 1x",
            "type": "debugpy",
            "request": "launch",
            "module": "lapisgs.train_reduced",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-s",
                "data/truck",
                "-d",
                "output/truck/1x",
                "--rescale_factor",
                "1.0",
                "-l",
                "output/truck/2x/point_cloud/iteration_10000/point_cloud.ply",
                "--load_camera",
                "output/truck/2x/cameras.json",
                "-i",
                "10000",
                "--mode",
                "camera-shculling",
                // "camera-prune-shculling",
                "--with_scale_reg",
                // hyperparams
                "-olambda_dssim=0.8",
                "-oscale_reg_thr_scale=0.2",
                "-odensify_percent_too_big=0.15",
                "-odepth_l1_weight_init=1.0",
                "-odepth_l1_weight_final=1.0",
                "-odepth_from_iter=4000",
                "-odepth_local_relative_kernel_radius=32",
                "-odepth_local_relative_stride=16",
                "-odepth_resize=577",
                "-omercy_type='redundancy_opacity_opacity'",
                // steps
                "-oposition_lr_max_steps=10000",
                "-ocull_at_steps=[9000]",
                "-oscale_reg_from_iter=500",
                "-odepth_l1_weight_max_steps=10000",
                // steps for densify
                // tips: depth will make the training unstable, and the pruning strategy may prune too many points
                // densification of points would slower than pruning, so more densify and less pruning
                "-odensify_from_iter=1000",
                "-odensify_until_iter=7800",
                "-odensify_interval=500",
                "-oprune_from_iter=2000",
                "-oprune_until_iter=7500",
                "-oprune_interval=100",
                "-oopacity_reset_from_iter=3000",
                "-oopacity_reset_until_iter=7000",
                "-oopacity_reset_interval=500",
                "-oimportance_prune_from_iter=2000",
                "-oimportance_prune_until_iter=8500",
                "-oimportance_prune_interval=100",
                // steps for camera
                "-ocamera_position_lr_max_steps=10000",
                "-ocamera_rotation_lr_max_steps=10000",
                "-ocamera_exposure_lr_max_steps=10000",
            ]
        },
        {
            "name": "render 1x",
            "type": "debugpy",
            "request": "launch",
            "module": "lapisgs.render",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-s",
                "data/truck",
                "-d",
                "output/truck/1x",
                "-i",
                "10000",
                "--mode",
                "camera",
                "--load_camera",
                "output/truck/1x/cameras.json",
                "--rescale_factor",
                "1.0",
            ]
        },
    ]
}